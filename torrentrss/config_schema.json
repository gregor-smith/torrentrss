{
	"$schema": "http://json-schema.org/draft-04/schema#",
	"type": "object",
	"properties": {
		"exception_gui": {
			"description": "Type of GUI shown when an error occurs. 'easygui' is supported if the respective Python package is installed. 'notify-send' is supported if notify-send is on the PATH environment variable. If missing, no GUI is used, and the only way to find out the program failed is to read the latest log file.",
			"type": "string"
		},
		"remove_old_log_files": {
			"description": "If true, old log files are removed. Considered true if missing.",
			"type": "boolean"
		},
		"log_file_limit": {
			"description": "The number of log files to keep if 'remove_old_log_files_enabled' is true. A limit of 3 would delete all but the 3 most recent logs. Defaults to 10 if missing.",
			"type": "integer",
			"minimum": 1
		},
		"default_directory": {
			"description": "The default directory to which torrent files are downloaded. If missing, the operating system's temporary directory is used.",
			"type": "string"
		},
		"default_command": {
			"description": "The default command used to execute file paths or URLs. See the subscription 'command' property for more details. If missing, the path or URL is launched with the operating system's default program for that protocol.",
			"type": "array",
			"items": {
				"type": "string"
			},
			"minItems": 1
		},
		"default_command_shell_enabled": {
			"description": "Whether to run the above command through the shell. Considered false if missing.",
			"type": "boolean"
		},
		"feeds": {
			"type": "object",
			"patternProperties": {
				".+": {
					"type": "object",
					"properties": {
						"url": {
							"description": "The URL of the RSS feed.",
							"type": "string"
						},
						"user_agent": {
							"description": "User agent used to send the GET request to download the feed. If missing, the default Python requests user agent is used.",
							"type": "string"
						},
						"enabled": {
							"description": "Considered true if missing",
							"type": "boolean"
						},
						"magnet_enabled": {
							"description": "If true, magnet URLs are used if possible. Considered true if missing",
							"type": "boolean"
						},
						"torrent_url_enabled": {
							"description": "If true, the torrent file's URL is passed to the command. Takes lower precedence than 'magnet_enabled', but higher precedence than 'torrent_file_enabled'. Considered true if missing.",
							"type": "boolean"
						},
						"torrent_file_enabled": {
							"description": "If true, the torrent file is downloaded, and the path to that file is passed to the command. Takes lower precedence than 'magnet_enabled' and 'torrent_url_enabled' if they are also true. Considered true if missing",
							"type": "boolean"
						},
						"hide_torrent_filename_enabled": {
							"description": "If true, the torrent's filename is replaced with its SHA-256 hash. If false, the filename is unchanged, although invalid characters are replaced with underscores on Windows systems. Ignored if 'torrent_url_enabled' is false. Considered true if missing.",
							"type": "boolean"
						},
						"subscriptions": {
							"type": "object",
							"patternProperties": {
								".+": {
									"type": "object",
									"properties": {
										"pattern": {
											"description": "A regular expression to match the torrents you want from the RSS feed. Must have a group to capture the episode number, like so: (?P<episode>[0-9]{2}). The series number may also be captured with the 'series' group. Because the config is a JSON file, double backslashes are required.",
											"type": "string"
										},
										"episode_number": {
											"description": "The current episode number. This and 'series_number' below are updated automatically when the program downloads a new torrent for this subscription. Should be left alone unless for example you're adding a subscription and want it to start on episode 3.",
											"type": "integer"
										},
										"series_number": {
											"description": "The current series number. Should be left out if not applicable",
											"type": "integer"
										},
										"directory": {
											"description": "The directory to which torrent files are downloaded. If missing, 'default_directory' is used.",
											"type": "string"
										},
										"command": {
											"description": "Command run after the torrent file is downloaded. '$PATH_OR_URL' is substituted for the torrent's URL, path, or magnet link, depending on the feed's configuration. This array is otherwise passed directly to Python's subprocess module, which takes care of any escaping or quoting, so there is no need to do so yourself. If missing, 'default_command' is used.",
											"type": "array",
											"items": {
												"type": "string"
											},
											"minItems": 1
										},
										"command_shell_enabled": {
											"description": "Considered false if missing.",
											"type": "boolean"
										},
										"enabled": {
											"description": "Considered true if missing",
											"type": "boolean"
										}
									},
									"required": [
										"pattern"
									]
								}
							}
						}
					},
					"required": [
						"url",
						"subscriptions"
					]
				}
			}
		}
	},
	"required": [
		"feeds"
	]
}
